<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>TrolleyApplication - Privacy Policy</title>
  <style>
    body {
      font-family: system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
      padding: 30px;
      line-height: 1.6;
      color: #222;
      background: #fff;
    }
    section {
      max-width: 900px;
      margin: auto;
      text-align: left;
    }
    /* RTL برای زبان‌های مثل فارسی و عربی */
    .rtl {
      direction: rtl;
      text-align: right;
    }
    label {
      font-weight: bold;
      margin-right: 10px;
    }
    select {
      padding: 6px 10px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <h1 id="title">TrolleyApplication — Privacy Policy</h1>

  <!-- 🌍 منوی انتخاب زبان -->
  <div style="margin-bottom:20px;">
    <label for="languageSelect">🌐 Select Language:</label>
    <select id="languageSelect"></select>
  </div>

  <section id="content"></section>

  <script src="translations.js"></script>
  <script>
    const languageSelect = document.getElementById('languageSelect');
    const titleElement = document.getElementById('title');
    const contentElement = document.getElementById('content');

    // 🟩 پر کردن منوی انتخاب زبان
    Object.keys(translations).forEach(lang => {
      const opt = document.createElement('option');
      opt.value = lang;
      opt.textContent = translations[lang].name;
      languageSelect.appendChild(opt);
    });

    // 🟩 تابع تغییر زبان
    function changeLanguage(lang) {
      const selected = translations[lang];
      if (selected) {
        titleElement.innerHTML = selected.title;
        contentElement.innerHTML = selected.content;

        // بررسی راست به چپ بودن
        if (['fa','ar','ur'].includes(lang)) {
          contentElement.classList.add('rtl');
        } else {
          contentElement.classList.remove('rtl');
        }

        // ذخیره زبان انتخابی در localStorage
        localStorage.setItem('preferredLang', lang);
      }
    }

    // 🟨 بارگذاری زبان ذخیره شده یا انگلیسی
    window.onload = () => {
      const savedLang = localStorage.getItem('preferredLang') || 'en';
      languageSelect.value = savedLang;
      changeLanguage(savedLang);
    };

    // 🟩 تغییر زبان هنگام انتخاب از dropdown
    languageSelect.addEventListener('change', () => {
      changeLanguage(languageSelect.value);
    });
  </script>
</body>
</html>
